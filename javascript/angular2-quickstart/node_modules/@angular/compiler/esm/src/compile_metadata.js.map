{"version":3,"file":"compile_metadata.js","sourceRoot":"","sources":["../../../../../modules/@angular/compiler/src/compile_metadata.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ChangeDetectionStrategy, SchemaMetadata, ViewEncapsulation} from '@angular/core';\n\nimport {LifecycleHooks, reflector} from '../core_private';\nimport {ListWrapper, StringMapWrapper} from './facade/collection';\nimport {BaseException, unimplemented} from './facade/exceptions';\nimport {Type, isBlank, isPresent, isStringMap, normalizeBlank, normalizeBool} from './facade/lang';\n\nimport {CssSelector} from './selector';\nimport {getUrlScheme} from './url_resolver';\nimport {sanitizeIdentifier, splitAtColon} from './util';\n\n\n\n// group 0: \"[prop] or (event) or @trigger\"\n// group 1: \"prop\" from \"[prop]\"\n// group 2: \"event\" from \"(event)\"\n// group 3: \"@trigger\" from \"@trigger\"\nconst HOST_REG_EXP = /^(?:(?:\\[([^\\]]+)\\])|(?:\\(([^\\)]+)\\)))|(\\@[-\\w]+)$/;\nconst UNDEFINED = new Object();\n\nexport abstract class CompileMetadataWithIdentifier {\n  get identifier(): CompileIdentifierMetadata { return <CompileIdentifierMetadata>unimplemented(); }\n\n  get runtimeCacheKey(): any { return unimplemented(); }\n\n  get assetCacheKey(): any { return unimplemented(); }\n\n  equalsTo(id2: CompileMetadataWithIdentifier): boolean { return unimplemented(); }\n}\n\nexport class CompileAnimationEntryMetadata {\n  constructor(\n      public name: string = null, public definitions: CompileAnimationStateMetadata[] = null) {}\n}\n\nexport abstract class CompileAnimationStateMetadata {}\n\nexport class CompileAnimationStateDeclarationMetadata extends CompileAnimationStateMetadata {\n  constructor(public stateNameExpr: string, public styles: CompileAnimationStyleMetadata) {\n    super();\n  }\n}\n\nexport class CompileAnimationStateTransitionMetadata extends CompileAnimationStateMetadata {\n  constructor(public stateChangeExpr: string, public steps: CompileAnimationMetadata) { super(); }\n}\n\nexport abstract class CompileAnimationMetadata {}\n\nexport class CompileAnimationKeyframesSequenceMetadata extends CompileAnimationMetadata {\n  constructor(public steps: CompileAnimationStyleMetadata[] = []) { super(); }\n}\n\nexport class CompileAnimationStyleMetadata extends CompileAnimationMetadata {\n  constructor(\n      public offset: number, public styles: Array<string|{[key: string]: string | number}> = null) {\n    super();\n  }\n}\n\nexport class CompileAnimationAnimateMetadata extends CompileAnimationMetadata {\n  constructor(\n      public timings: string|number = 0, public styles: CompileAnimationStyleMetadata|\n      CompileAnimationKeyframesSequenceMetadata = null) {\n    super();\n  }\n}\n\nexport abstract class CompileAnimationWithStepsMetadata extends CompileAnimationMetadata {\n  constructor(public steps: CompileAnimationMetadata[] = null) { super(); }\n}\n\nexport class CompileAnimationSequenceMetadata extends CompileAnimationWithStepsMetadata {\n  constructor(steps: CompileAnimationMetadata[] = null) { super(steps); }\n}\n\nexport class CompileAnimationGroupMetadata extends CompileAnimationWithStepsMetadata {\n  constructor(steps: CompileAnimationMetadata[] = null) { super(steps); }\n}\n\nexport class CompileIdentifierMetadata implements CompileMetadataWithIdentifier {\n  runtime: any;\n  name: string;\n  prefix: string;\n  moduleUrl: string;\n  value: any;\n  private _assetCacheKey: any = UNDEFINED;\n\n  constructor(\n      {runtime, name, moduleUrl, prefix, value}:\n          {runtime?: any, name?: string, moduleUrl?: string, prefix?: string, value?: any} = {}) {\n    this.runtime = runtime;\n    this.name = name;\n    this.prefix = prefix;\n    this.moduleUrl = moduleUrl;\n    this.value = value;\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this; }\n\n  get runtimeCacheKey(): any { return this.identifier.runtime; }\n\n  get assetCacheKey(): any {\n    if (this._assetCacheKey === UNDEFINED) {\n      if (isPresent(this.moduleUrl) && isPresent(getUrlScheme(this.moduleUrl))) {\n        var uri = reflector.importUri({'filePath': this.moduleUrl, 'name': this.name});\n        this._assetCacheKey = `${this.name}|${uri}`;\n      } else {\n        this._assetCacheKey = null;\n      }\n    }\n    return this._assetCacheKey;\n  }\n\n  equalsTo(id2: CompileIdentifierMetadata): boolean {\n    var rk = this.runtimeCacheKey;\n    var ak = this.assetCacheKey;\n    return (isPresent(rk) && rk == id2.runtimeCacheKey) ||\n        (isPresent(ak) && ak == id2.assetCacheKey);\n  }\n}\n\nexport class CompileDiDependencyMetadata {\n  isAttribute: boolean;\n  isSelf: boolean;\n  isHost: boolean;\n  isSkipSelf: boolean;\n  isOptional: boolean;\n  isValue: boolean;\n  query: CompileQueryMetadata;\n  viewQuery: CompileQueryMetadata;\n  token: CompileTokenMetadata;\n  value: any;\n\n  constructor(\n      {isAttribute, isSelf, isHost, isSkipSelf, isOptional, isValue, query, viewQuery, token,\n       value}: {\n        isAttribute?: boolean,\n        isSelf?: boolean,\n        isHost?: boolean,\n        isSkipSelf?: boolean,\n        isOptional?: boolean,\n        isValue?: boolean,\n        query?: CompileQueryMetadata,\n        viewQuery?: CompileQueryMetadata,\n        token?: CompileTokenMetadata,\n        value?: any\n      } = {}) {\n    this.isAttribute = normalizeBool(isAttribute);\n    this.isSelf = normalizeBool(isSelf);\n    this.isHost = normalizeBool(isHost);\n    this.isSkipSelf = normalizeBool(isSkipSelf);\n    this.isOptional = normalizeBool(isOptional);\n    this.isValue = normalizeBool(isValue);\n    this.query = query;\n    this.viewQuery = viewQuery;\n    this.token = token;\n    this.value = value;\n  }\n}\n\nexport class CompileProviderMetadata {\n  token: CompileTokenMetadata;\n  useClass: CompileTypeMetadata;\n  useValue: any;\n  useExisting: CompileTokenMetadata;\n  useFactory: CompileFactoryMetadata;\n  deps: CompileDiDependencyMetadata[];\n  multi: boolean;\n\n  constructor({token, useClass, useValue, useExisting, useFactory, deps, multi}: {\n    token?: CompileTokenMetadata,\n    useClass?: CompileTypeMetadata,\n    useValue?: any,\n    useExisting?: CompileTokenMetadata,\n    useFactory?: CompileFactoryMetadata,\n    deps?: CompileDiDependencyMetadata[],\n    multi?: boolean\n  }) {\n    this.token = token;\n    this.useClass = useClass;\n    this.useValue = useValue;\n    this.useExisting = useExisting;\n    this.useFactory = useFactory;\n    this.deps = normalizeBlank(deps);\n    this.multi = normalizeBool(multi);\n  }\n}\n\nexport class CompileFactoryMetadata extends CompileIdentifierMetadata {\n  diDeps: CompileDiDependencyMetadata[];\n\n  constructor({runtime, name, moduleUrl, prefix, diDeps, value}: {\n    runtime?: Function,\n    name?: string,\n    prefix?: string,\n    moduleUrl?: string,\n    value?: boolean,\n    diDeps?: CompileDiDependencyMetadata[]\n  }) {\n    super({runtime: runtime, name: name, prefix: prefix, moduleUrl: moduleUrl, value: value});\n    this.diDeps = _normalizeArray(diDeps);\n  }\n}\n\nexport class CompileTokenMetadata implements CompileMetadataWithIdentifier {\n  value: any;\n  identifier: CompileIdentifierMetadata;\n  identifierIsInstance: boolean;\n\n  constructor(\n      {value, identifier, identifierIsInstance}:\n          {value?: any, identifier?: CompileIdentifierMetadata, identifierIsInstance?: boolean}) {\n    this.value = value;\n    this.identifier = identifier;\n    this.identifierIsInstance = normalizeBool(identifierIsInstance);\n  }\n\n  get runtimeCacheKey(): any {\n    if (isPresent(this.identifier)) {\n      return this.identifier.runtimeCacheKey;\n    } else {\n      return this.value;\n    }\n  }\n\n  get assetCacheKey(): any {\n    if (isPresent(this.identifier)) {\n      return this.identifier.assetCacheKey;\n    } else {\n      return this.value;\n    }\n  }\n\n  equalsTo(token2: CompileTokenMetadata): boolean {\n    var rk = this.runtimeCacheKey;\n    var ak = this.assetCacheKey;\n    return (isPresent(rk) && rk == token2.runtimeCacheKey) ||\n        (isPresent(ak) && ak == token2.assetCacheKey);\n  }\n\n  get name(): string {\n    return isPresent(this.value) ? sanitizeIdentifier(this.value) : this.identifier.name;\n  }\n}\n\n/**\n * Note: We only need this in places where we need to support identifiers that\n * don't have a `runtime` value given by the `StaticReflector`. E.g. see the `identifiers`\n * file where we have some identifiers hard coded by name/module path.\n *\n * TODO(tbosch): Eventually, all of these places should go through the static reflector\n * as well, providing them with a valid `StaticSymbol` that is again a singleton.\n */\nexport class CompileIdentifierMap<KEY extends CompileMetadataWithIdentifier, VALUE> {\n  private _valueMap = new Map<any, VALUE>();\n  private _values: VALUE[] = [];\n  private _tokens: KEY[] = [];\n\n  add(token: KEY, value: VALUE) {\n    var existing = this.get(token);\n    if (isPresent(existing)) {\n      throw new BaseException(\n          `Cannot overwrite in a CompileIdentifierMap! Token: ${token.identifier.name}`);\n    }\n    this._tokens.push(token);\n    this._values.push(value);\n    var rk = token.runtimeCacheKey;\n    if (isPresent(rk)) {\n      this._valueMap.set(rk, value);\n    }\n    var ak = token.assetCacheKey;\n    if (isPresent(ak)) {\n      this._valueMap.set(ak, value);\n    }\n  }\n  get(token: KEY): VALUE {\n    var rk = token.runtimeCacheKey;\n    var ak = token.assetCacheKey;\n    var result: VALUE;\n    if (isPresent(rk)) {\n      result = this._valueMap.get(rk);\n    }\n    if (isBlank(result) && isPresent(ak)) {\n      result = this._valueMap.get(ak);\n    }\n    return result;\n  }\n  keys(): KEY[] { return this._tokens; }\n  values(): VALUE[] { return this._values; }\n  get size(): number { return this._values.length; }\n}\n\n/**\n * Metadata regarding compilation of a type.\n */\nexport class CompileTypeMetadata extends CompileIdentifierMetadata {\n  isHost: boolean;\n  diDeps: CompileDiDependencyMetadata[];\n  lifecycleHooks: LifecycleHooks[];\n\n  constructor({runtime, name, moduleUrl, prefix, isHost, value, diDeps, lifecycleHooks}: {\n    runtime?: Type,\n    name?: string,\n    moduleUrl?: string,\n    prefix?: string,\n    isHost?: boolean,\n    value?: any,\n    diDeps?: CompileDiDependencyMetadata[],\n    lifecycleHooks?: LifecycleHooks[];\n  } = {}) {\n    super({runtime: runtime, name: name, moduleUrl: moduleUrl, prefix: prefix, value: value});\n    this.isHost = normalizeBool(isHost);\n    this.diDeps = _normalizeArray(diDeps);\n    this.lifecycleHooks = _normalizeArray(lifecycleHooks);\n  }\n}\n\nexport class CompileQueryMetadata {\n  selectors: Array<CompileTokenMetadata>;\n  descendants: boolean;\n  first: boolean;\n  propertyName: string;\n  read: CompileTokenMetadata;\n\n  constructor({selectors, descendants, first, propertyName, read}: {\n    selectors?: Array<CompileTokenMetadata>,\n    descendants?: boolean,\n    first?: boolean,\n    propertyName?: string,\n    read?: CompileTokenMetadata\n  } = {}) {\n    this.selectors = selectors;\n    this.descendants = normalizeBool(descendants);\n    this.first = normalizeBool(first);\n    this.propertyName = propertyName;\n    this.read = read;\n  }\n}\n\n/**\n * Metadata about a stylesheet\n */\nexport class CompileStylesheetMetadata {\n  moduleUrl: string;\n  styles: string[];\n  styleUrls: string[];\n  constructor(\n      {moduleUrl, styles,\n       styleUrls}: {moduleUrl?: string, styles?: string[], styleUrls?: string[]} = {}) {\n    this.moduleUrl = moduleUrl;\n    this.styles = _normalizeArray(styles);\n    this.styleUrls = _normalizeArray(styleUrls);\n  }\n}\n\n/**\n * Metadata regarding compilation of a template.\n */\nexport class CompileTemplateMetadata {\n  encapsulation: ViewEncapsulation;\n  template: string;\n  templateUrl: string;\n  styles: string[];\n  styleUrls: string[];\n  externalStylesheets: CompileStylesheetMetadata[];\n  animations: CompileAnimationEntryMetadata[];\n  ngContentSelectors: string[];\n  interpolation: [string, string];\n  constructor(\n      {encapsulation, template, templateUrl, styles, styleUrls, externalStylesheets, animations,\n       ngContentSelectors, interpolation}: {\n        encapsulation?: ViewEncapsulation,\n        template?: string,\n        templateUrl?: string,\n        styles?: string[],\n        styleUrls?: string[],\n        externalStylesheets?: CompileStylesheetMetadata[],\n        ngContentSelectors?: string[],\n        animations?: CompileAnimationEntryMetadata[],\n        interpolation?: [string, string]\n      } = {}) {\n    this.encapsulation = encapsulation;\n    this.template = template;\n    this.templateUrl = templateUrl;\n    this.styles = _normalizeArray(styles);\n    this.styleUrls = _normalizeArray(styleUrls);\n    this.externalStylesheets = _normalizeArray(externalStylesheets);\n    this.animations = isPresent(animations) ? ListWrapper.flatten(animations) : [];\n    this.ngContentSelectors = isPresent(ngContentSelectors) ? ngContentSelectors : [];\n    if (isPresent(interpolation) && interpolation.length != 2) {\n      throw new BaseException(`'interpolation' should have a start and an end symbol.`);\n    }\n    this.interpolation = interpolation;\n  }\n}\n\n/**\n * Metadata regarding compilation of a directive.\n */\nexport class CompileDirectiveMetadata implements CompileMetadataWithIdentifier {\n  static create(\n      {type, isComponent, selector, exportAs, changeDetection, inputs, outputs, host, providers,\n       viewProviders, queries, viewQueries, entryComponents, viewDirectives, viewPipes, template}: {\n        type?: CompileTypeMetadata,\n        isComponent?: boolean,\n        selector?: string,\n        exportAs?: string,\n        changeDetection?: ChangeDetectionStrategy,\n        inputs?: string[],\n        outputs?: string[],\n        host?: {[key: string]: string},\n        providers?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        viewProviders?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        queries?: CompileQueryMetadata[],\n        viewQueries?: CompileQueryMetadata[],\n        entryComponents?: CompileTypeMetadata[],\n        viewDirectives?: CompileTypeMetadata[],\n        viewPipes?: CompileTypeMetadata[],\n        template?: CompileTemplateMetadata\n      } = {}): CompileDirectiveMetadata {\n    var hostListeners: {[key: string]: string} = {};\n    var hostProperties: {[key: string]: string} = {};\n    var hostAttributes: {[key: string]: string} = {};\n    if (isPresent(host)) {\n      StringMapWrapper.forEach(host, (value: string, key: string) => {\n        const matches = key.match(HOST_REG_EXP);\n        if (matches === null) {\n          hostAttributes[key] = value;\n        } else if (isPresent(matches[1])) {\n          hostProperties[matches[1]] = value;\n        } else if (isPresent(matches[2])) {\n          hostListeners[matches[2]] = value;\n        } else if (isPresent(matches[3])) {  // DEPRECATED: remove this if statement post RC5\n          hostProperties['@' + matches[3]] = value;\n        }\n      });\n    }\n    var inputsMap: {[key: string]: string} = {};\n    if (isPresent(inputs)) {\n      inputs.forEach((bindConfig: string) => {\n        // canonical syntax: `dirProp: elProp`\n        // if there is no `:`, use dirProp = elProp\n        var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n        inputsMap[parts[0]] = parts[1];\n      });\n    }\n    var outputsMap: {[key: string]: string} = {};\n    if (isPresent(outputs)) {\n      outputs.forEach((bindConfig: string) => {\n        // canonical syntax: `dirProp: elProp`\n        // if there is no `:`, use dirProp = elProp\n        var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n        outputsMap[parts[0]] = parts[1];\n      });\n    }\n\n    return new CompileDirectiveMetadata({\n      type,\n      isComponent: normalizeBool(isComponent), selector, exportAs, changeDetection,\n      inputs: inputsMap,\n      outputs: outputsMap,\n      hostListeners,\n      hostProperties,\n      hostAttributes,\n      providers,\n      viewProviders,\n      queries,\n      viewQueries,\n      entryComponents,\n      viewDirectives,\n      viewPipes,\n      template,\n    });\n  }\n  type: CompileTypeMetadata;\n  isComponent: boolean;\n  selector: string;\n  exportAs: string;\n  changeDetection: ChangeDetectionStrategy;\n  inputs: {[key: string]: string};\n  outputs: {[key: string]: string};\n  hostListeners: {[key: string]: string};\n  hostProperties: {[key: string]: string};\n  hostAttributes: {[key: string]: string};\n  providers: CompileProviderMetadata[];\n  viewProviders: CompileProviderMetadata[];\n  queries: CompileQueryMetadata[];\n  viewQueries: CompileQueryMetadata[];\n  // Note: Need to keep types here to prevent cycles!\n  entryComponents: CompileTypeMetadata[];\n  // Note: Need to keep types here to prevent cycles!\n  viewDirectives: CompileTypeMetadata[];\n  // Note: Need to keep types here to prevent cycles!\n  viewPipes: CompileTypeMetadata[];\n\n  template: CompileTemplateMetadata;\n\n  constructor(\n      {type, isComponent, selector, exportAs, changeDetection, inputs, outputs, hostListeners,\n       hostProperties, hostAttributes, providers, viewProviders, queries, viewQueries,\n       entryComponents, viewDirectives, viewPipes, template}: {\n        type?: CompileTypeMetadata,\n        isComponent?: boolean,\n        selector?: string,\n        exportAs?: string,\n        changeDetection?: ChangeDetectionStrategy,\n        inputs?: {[key: string]: string},\n        outputs?: {[key: string]: string},\n        hostListeners?: {[key: string]: string},\n        hostProperties?: {[key: string]: string},\n        hostAttributes?: {[key: string]: string},\n        providers?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        viewProviders?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        queries?: CompileQueryMetadata[],\n        viewQueries?: CompileQueryMetadata[],\n        entryComponents?: CompileTypeMetadata[],\n        viewDirectives?: CompileTypeMetadata[],\n        viewPipes?: CompileTypeMetadata[],\n        template?: CompileTemplateMetadata,\n      } = {}) {\n    this.type = type;\n    this.isComponent = isComponent;\n    this.selector = selector;\n    this.exportAs = exportAs;\n    this.changeDetection = changeDetection;\n    this.inputs = inputs;\n    this.outputs = outputs;\n    this.hostListeners = hostListeners;\n    this.hostProperties = hostProperties;\n    this.hostAttributes = hostAttributes;\n    this.providers = _normalizeArray(providers);\n    this.viewProviders = _normalizeArray(viewProviders);\n    this.queries = _normalizeArray(queries);\n    this.viewQueries = _normalizeArray(viewQueries);\n    this.entryComponents = _normalizeArray(entryComponents);\n    this.viewDirectives = _normalizeArray(viewDirectives);\n    this.viewPipes = _normalizeArray(viewPipes);\n\n    this.template = template;\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this.type; }\n\n  get runtimeCacheKey(): any { return this.type.runtimeCacheKey; }\n\n  get assetCacheKey(): any { return this.type.assetCacheKey; }\n\n  equalsTo(other: CompileMetadataWithIdentifier): boolean {\n    return this.type.equalsTo(other.identifier);\n  }\n}\n\n/**\n * Construct {@link CompileDirectiveMetadata} from {@link ComponentTypeMetadata} and a selector.\n */\nexport function createHostComponentMeta(compMeta: CompileDirectiveMetadata):\n    CompileDirectiveMetadata {\n  var template = CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate();\n  return CompileDirectiveMetadata.create({\n    type: new CompileTypeMetadata({\n      runtime: Object,\n      name: `${compMeta.type.name}_Host`,\n      moduleUrl: compMeta.type.moduleUrl,\n      isHost: true\n    }),\n    template: new CompileTemplateMetadata({\n      template: template,\n      templateUrl: '',\n      styles: [],\n      styleUrls: [],\n      ngContentSelectors: [],\n      animations: []\n    }),\n    changeDetection: ChangeDetectionStrategy.Default,\n    inputs: [],\n    outputs: [],\n    host: {},\n    isComponent: true,\n    selector: '*',\n    providers: [],\n    viewProviders: [],\n    queries: [],\n    viewQueries: []\n  });\n}\n\n\nexport class CompilePipeMetadata implements CompileMetadataWithIdentifier {\n  type: CompileTypeMetadata;\n  name: string;\n  pure: boolean;\n\n  constructor({type, name, pure}: {\n    type?: CompileTypeMetadata,\n    name?: string,\n    pure?: boolean,\n  } = {}) {\n    this.type = type;\n    this.name = name;\n    this.pure = normalizeBool(pure);\n  }\n  get identifier(): CompileIdentifierMetadata { return this.type; }\n  get runtimeCacheKey(): any { return this.type.runtimeCacheKey; }\n\n  get assetCacheKey(): any { return this.type.assetCacheKey; }\n\n  equalsTo(other: CompileMetadataWithIdentifier): boolean {\n    return this.type.equalsTo(other.identifier);\n  }\n}\n\n/**\n * Metadata regarding compilation of a directive.\n */\nexport class CompileNgModuleMetadata implements CompileMetadataWithIdentifier {\n  type: CompileTypeMetadata;\n  declaredDirectives: CompileDirectiveMetadata[];\n  exportedDirectives: CompileDirectiveMetadata[];\n  declaredPipes: CompilePipeMetadata[];\n  exportedPipes: CompilePipeMetadata[];\n  // Note: See CompileDirectiveMetadata.entryComponents why this has to be a type.\n  entryComponents: CompileTypeMetadata[];\n  bootstrapComponents: CompileTypeMetadata[];\n  providers: CompileProviderMetadata[];\n\n  importedModules: CompileNgModuleMetadata[];\n  exportedModules: CompileNgModuleMetadata[];\n  schemas: SchemaMetadata[];\n\n  transitiveModule: TransitiveCompileNgModuleMetadata;\n\n  constructor(\n      {type, providers, declaredDirectives, exportedDirectives, declaredPipes, exportedPipes,\n       entryComponents, bootstrapComponents, importedModules, exportedModules, schemas,\n       transitiveModule}: {\n        type?: CompileTypeMetadata,\n        providers?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        declaredDirectives?: CompileDirectiveMetadata[],\n        exportedDirectives?: CompileDirectiveMetadata[],\n        declaredPipes?: CompilePipeMetadata[],\n        exportedPipes?: CompilePipeMetadata[],\n        entryComponents?: CompileTypeMetadata[],\n        bootstrapComponents?: CompileTypeMetadata[],\n        importedModules?: CompileNgModuleMetadata[],\n        exportedModules?: CompileNgModuleMetadata[],\n        transitiveModule?: TransitiveCompileNgModuleMetadata,\n        schemas?: SchemaMetadata[]\n      } = {}) {\n    this.type = type;\n    this.declaredDirectives = _normalizeArray(declaredDirectives);\n    this.exportedDirectives = _normalizeArray(exportedDirectives);\n    this.declaredPipes = _normalizeArray(declaredPipes);\n    this.exportedPipes = _normalizeArray(exportedPipes);\n    this.providers = _normalizeArray(providers);\n    this.entryComponents = _normalizeArray(entryComponents);\n    this.bootstrapComponents = _normalizeArray(bootstrapComponents);\n    this.importedModules = _normalizeArray(importedModules);\n    this.exportedModules = _normalizeArray(exportedModules);\n    this.schemas = _normalizeArray(schemas);\n    this.transitiveModule = transitiveModule;\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this.type; }\n  get runtimeCacheKey(): any { return this.type.runtimeCacheKey; }\n\n  get assetCacheKey(): any { return this.type.assetCacheKey; }\n\n  equalsTo(other: CompileMetadataWithIdentifier): boolean {\n    return this.type.equalsTo(other.identifier);\n  }\n}\n\nexport class TransitiveCompileNgModuleMetadata {\n  directivesSet = new Set<Type>();\n  pipesSet = new Set<Type>();\n  constructor(\n      public modules: CompileNgModuleMetadata[], public providers: CompileProviderMetadata[],\n      public entryComponents: CompileTypeMetadata[], public directives: CompileDirectiveMetadata[],\n      public pipes: CompilePipeMetadata[]) {\n    directives.forEach(dir => this.directivesSet.add(dir.type.runtime));\n    pipes.forEach(pipe => this.pipesSet.add(pipe.type.runtime));\n  }\n}\n\nexport function removeIdentifierDuplicates<T extends CompileMetadataWithIdentifier>(items: T[]):\n    T[] {\n  const map = new CompileIdentifierMap<T, T>();\n  items.forEach((item) => {\n    if (!map.get(item)) {\n      map.add(item, item);\n    }\n  });\n  return map.keys();\n}\n\nfunction _normalizeArray(obj: any[]): any[] {\n  return isPresent(obj) ? obj : [];\n}\n\nexport function isStaticSymbol(value: any): value is StaticSymbol {\n  return isStringMap(value) && isPresent(value['name']) && isPresent(value['filePath']);\n}\n\nexport interface StaticSymbol {\n  name: string;\n  filePath: string;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}