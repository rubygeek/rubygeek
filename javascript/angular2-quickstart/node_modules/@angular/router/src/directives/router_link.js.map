{"version":3,"file":"router_link.js","sourceRoot":"","sources":["../../../../../modules/@angular/router/src/directives/router_link.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LocationStrategy} from '@angular/common';\nimport {Directive, HostBinding, HostListener, Input, OnChanges, OnDestroy} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {NavigationEnd, Router} from '../router';\nimport {ActivatedRoute} from '../router_state';\nimport {UrlTree} from '../url_tree';\nexport class RouterLink {\n  private commands: any[] = []; queryParams: {[k: string]: any}; fragment: string; preserveQueryParams: boolean; preserveFragment: boolean;\n\n  constructor(\n      private router: Router, private route: ActivatedRoute,\n      private locationStrategy: LocationStrategy) {}\n  set routerLink(data: any[]|string) {\n    if (Array.isArray(data)) {\n      this.commands = data;\n    } else {\n      this.commands = [data];\n    }\n  }\n  onClick(button: number, ctrlKey: boolean, metaKey: boolean): boolean {\n    if (button !== 0 || ctrlKey || metaKey) {\n      return true;\n    }\n    this.router.navigateByUrl(this.urlTree);\n    return false;\n  }\n\n  get urlTree(): UrlTree {\n    return this.router.createUrlTree(this.commands, {\n      relativeTo: this.route,\n      queryParams: this.queryParams,\n      fragment: this.fragment,\n      preserveQueryParams: toBool(this.preserveQueryParams),\n      preserveFragment: toBool(this.preserveFragment)\n    });\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{selector: ':not(a)[routerLink]'}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: Router, },\n{type: ActivatedRoute, },\n{type: LocationStrategy, },\n];\n/** @nocollapse */\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'queryParams': [{ type: Input },],\n'fragment': [{ type: Input },],\n'preserveQueryParams': [{ type: Input },],\n'preserveFragment': [{ type: Input },],\n'routerLink': [{ type: Input },],\n'onClick': [{ type: HostListener, args: ['click', ['$event.button', '$event.ctrlKey', '$event.metaKey'], ] },],\n};\n}\nexport class RouterLinkWithHref implements OnChanges, OnDestroy { target: string;\n  private commands: any[] = []; queryParams: {[k: string]: any}; fragment: string; routerLinkOptions: {preserveQueryParams: boolean, preserveFragment: boolean}; preserveQueryParams: boolean; preserveFragment: boolean;\n  private subscription: Subscription; href: string;\n\n  urlTree: UrlTree;\n\n  constructor(\n      private router: Router, private route: ActivatedRoute,\n      private locationStrategy: LocationStrategy) {\n    this.subscription = router.events.subscribe(s => {\n      if (s instanceof NavigationEnd) {\n        this.updateTargetUrlAndHref();\n      }\n    });\n  }\n  set routerLink(data: any[]|string) {\n    if (Array.isArray(data)) {\n      this.commands = data;\n    } else {\n      this.commands = [data];\n    }\n  }\n\n  ngOnChanges(changes: {}): any { this.updateTargetUrlAndHref(); }\n  ngOnDestroy(): any { this.subscription.unsubscribe(); }\n  onClick(button: number, ctrlKey: boolean, metaKey: boolean): boolean {\n    if (button !== 0 || ctrlKey || metaKey) {\n      return true;\n    }\n\n    if (typeof this.target === 'string' && this.target != '_self') {\n      return true;\n    }\n\n    this.router.navigateByUrl(this.urlTree);\n    return false;\n  }\n\n  private updateTargetUrlAndHref(): void {\n    this.urlTree = this.router.createUrlTree(this.commands, {\n      relativeTo: this.route,\n      queryParams: this.queryParams,\n      fragment: this.fragment,\n      preserveQueryParams: toBool(this.preserveQueryParams),\n      preserveFragment: toBool(this.preserveFragment)\n    });\n\n    if (this.urlTree) {\n      this.href = this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree));\n    }\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{selector: 'a[routerLink]'}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: Router, },\n{type: ActivatedRoute, },\n{type: LocationStrategy, },\n];\n/** @nocollapse */\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'target': [{ type: Input },],\n'queryParams': [{ type: Input },],\n'fragment': [{ type: Input },],\n'routerLinkOptions': [{ type: Input },],\n'preserveQueryParams': [{ type: Input },],\n'preserveFragment': [{ type: Input },],\n'href': [{ type: HostBinding },],\n'routerLink': [{ type: Input },],\n'onClick': [{ type: HostListener, args: ['click', ['$event.button', '$event.ctrlKey', '$event.metaKey'], ] },],\n};\n}\n\nfunction toBool(s?: any): boolean {\n  if (s === '') return true;\n  return !!s;\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}