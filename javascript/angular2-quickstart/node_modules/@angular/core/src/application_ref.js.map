{"version":3,"file":"application_ref.js","sourceRoot":"","sources":["../../../../modules/@angular/core/src/application_ref.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ListWrapper} from '../src/facade/collection';\nimport {BaseException, ExceptionHandler, unimplemented} from '../src/facade/exceptions';\nimport {ConcreteType, Type, isBlank, isPresent, isPromise, stringify} from '../src/facade/lang';\n\nimport {ApplicationInitStatus} from './application_init';\nimport {APP_BOOTSTRAP_LISTENER, PLATFORM_INITIALIZER} from './application_tokens';\nimport {ChangeDetectorRef} from './change_detection/change_detector_ref';\nimport {Console} from './console';\nimport {Inject, Injectable, Injector, OpaqueToken, Optional, ReflectiveInjector, SkipSelf, forwardRef} from './di';\nimport {Compiler, CompilerFactory, CompilerOptions} from './linker/compiler';\nimport {ComponentFactory, ComponentRef} from './linker/component_factory';\nimport {ComponentFactoryResolver} from './linker/component_factory_resolver';\nimport {ComponentResolver} from './linker/component_resolver';\nimport {NgModuleFactory, NgModuleInjector, NgModuleRef} from './linker/ng_module_factory';\nimport {WtfScopeFn, wtfCreateScope, wtfLeave} from './profile/profile';\nimport {Testability, TestabilityRegistry} from './testability/testability';\nimport {NgZone, NgZoneError} from './zone/ng_zone';\n\nvar _devMode: boolean = true;\nvar _runModeLocked: boolean = false;\nvar _platform: PlatformRef;\n\n/**\n * Disable Angular's development mode, which turns off assertions and other\n * checks within the framework.\n *\n * One important assertion this disables verifies that a change detection pass\n * does not result in additional changes to any bindings (also known as\n * unidirectional data flow).\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function enableProdMode(): void {\n  if (_runModeLocked) {\n    // Cannot use BaseException as that ends up importing from facade/lang.\n    throw new BaseException('Cannot enable prod mode after platform setup.');\n  }\n  _devMode = false;\n}\n\n/**\n * Locks the run mode of Angular. After this has been called,\n * it can't be changed any more. I.e. `isDevMode()` will always\n * return the same value.\n *\n * @deprecated This is a noop now. {@link isDevMode} automatically locks the run mode on first call.\n */\nexport function lockRunMode(): void {\n  console.warn('lockRunMode() is deprecated and not needed any more.');\n}\n\n/**\n * Returns whether Angular is in development mode. After called once,\n * the value is locked and won't change any more.\n *\n * By default, this is true, unless a user calls `enableProdMode` before calling this.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function isDevMode(): boolean {\n  _runModeLocked = true;\n  return _devMode;\n}\n\n/**\n * Creates a platform.\n * Platforms have to be eagerly created via this function.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function createPlatform(injector: Injector): PlatformRef {\n  if (isPresent(_platform) && !_platform.disposed) {\n    throw new BaseException(\n        'There can be only one platform. Destroy the previous one to create a new one.');\n  }\n  _platform = injector.get(PlatformRef);\n  const inits: Function[] = <Function[]>injector.get(PLATFORM_INITIALIZER, null);\n  if (isPresent(inits)) inits.forEach(init => init());\n  return _platform;\n}\n\n/**\n * Factory for a platform.\n *\n * @experimental\n */\nexport type PlatformFactory = (extraProviders?: any[]) => PlatformRef;\n\n/**\n * Creates a factory for a platform\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function createPlatformFactory(\n    parentPlaformFactory: PlatformFactory, name: string, providers: any[] = []): PlatformFactory {\n  const marker = new OpaqueToken(`Platform: ${name}`);\n  return (extraProviders: any[] = []) => {\n    if (!getPlatform()) {\n      if (parentPlaformFactory) {\n        parentPlaformFactory(\n            providers.concat(extraProviders).concat({provide: marker, useValue: true}));\n      } else {\n        createPlatform(ReflectiveInjector.resolveAndCreate(\n            providers.concat(extraProviders).concat({provide: marker, useValue: true})));\n      }\n    }\n    return assertPlatform(marker);\n  };\n}\n\n/**\n * Checks that there currently is a platform\n * which contains the given token as a provider.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function assertPlatform(requiredToken: any): PlatformRef {\n  var platform = getPlatform();\n  if (isBlank(platform)) {\n    throw new BaseException('No platform exists!');\n  }\n  if (isPresent(platform) && isBlank(platform.injector.get(requiredToken, null))) {\n    throw new BaseException(\n        'A platform with a different configuration has been created. Please destroy it first.');\n  }\n  return platform;\n}\n\n/**\n * Dispose the existing platform.\n *\n * @deprecated Use `destroyPlatform` instead\n */\nexport function disposePlatform(): void {\n  destroyPlatform();\n}\n\n/**\n * Destroy the existing platform.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function destroyPlatform(): void {\n  if (isPresent(_platform) && !_platform.destroyed) {\n    _platform.destroy();\n  }\n}\n\n/**\n * Returns the current platform.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport function getPlatform(): PlatformRef {\n  return isPresent(_platform) && !_platform.disposed ? _platform : null;\n}\n\n/**\n * Shortcut for ApplicationRef.bootstrap.\n * Requires a platform to be created first.\n *\n * @deprecated Use {@link bootstrapModuleFactory} instead.\n */\nexport function coreBootstrap<C>(\n    componentFactory: ComponentFactory<C>, injector: Injector): ComponentRef<C> {\n  throw new BaseException('coreBootstrap is deprecated. Use bootstrapModuleFactory instead.');\n}\n\n/**\n * Resolves the componentFactory for the given component,\n * waits for asynchronous initializers and bootstraps the component.\n * Requires a platform to be created first.\n *\n * @deprecated Use {@link bootstrapModule} instead.\n */\nexport function coreLoadAndBootstrap(\n    componentType: Type, injector: Injector): Promise<ComponentRef<any>> {\n  throw new BaseException('coreLoadAndBootstrap is deprecated. Use bootstrapModule instead.');\n}\n\n/**\n * The Angular platform is the entry point for Angular on a web page. Each page\n * has exactly one platform, and services (such as reflection) which are common\n * to every Angular application running on the page are bound in its scope.\n *\n * A page's platform is initialized implicitly when {@link bootstrap}() is called, or\n * explicitly by calling {@link createPlatform}().\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport abstract class PlatformRef {\n  /**\n   * Creates an instance of an `@NgModule` for the given platform\n   * for offline compilation.\n   *\n   * ## Simple Example\n   *\n   * ```typescript\n   * my_module.ts:\n   *\n   * @NgModule({\n   *   imports: [BrowserModule]\n   * })\n   * class MyModule {}\n   *\n   * main.ts:\n   * import {MyModuleNgFactory} from './my_module.ngfactory';\n   * import {browserPlatform} from '@angular/platform-browser';\n   *\n   * let moduleRef = browserPlatform().bootstrapModuleFactory(MyModuleNgFactory);\n   * ```\n   *\n   * @experimental APIs related to application bootstrap are currently under review.\n   */\n  bootstrapModuleFactory<M>(moduleFactory: NgModuleFactory<M>): Promise<NgModuleRef<M>> {\n    throw unimplemented();\n  }\n\n  /**\n   * Creates an instance of an `@NgModule` for a given platform using the given runtime compiler.\n   *\n   * ## Simple Example\n   *\n   * ```typescript\n   * @NgModule({\n   *   imports: [BrowserModule]\n   * })\n   * class MyModule {}\n   *\n   * let moduleRef = browserPlatform().bootstrapModule(MyModule);\n   * ```\n   * @stable\n   */\n  bootstrapModule<M>(\n      moduleType: ConcreteType<M>,\n      compilerOptions: CompilerOptions|CompilerOptions[] = []): Promise<NgModuleRef<M>> {\n    throw unimplemented();\n  }\n\n  /**\n   * Register a listener to be called when the platform is disposed.\n   * @deprecated Use `OnDestroy` instead\n   */\n  abstract registerDisposeListener(dispose: () => void): void;\n\n  /**\n   * Register a listener to be called when the platform is disposed.\n   */\n  abstract onDestroy(callback: () => void): void;\n\n  /**\n   * Retrieve the platform {@link Injector}, which is the parent injector for\n   * every Angular application on the page and provides singleton providers.\n   */\n  get injector(): Injector { throw unimplemented(); };\n\n  /**\n   * Destroy the Angular platform and all Angular applications on the page.\n   * @deprecated Use `destroy` instead\n   */\n  abstract dispose(): void;\n\n  /**\n   * Destroy the Angular platform and all Angular applications on the page.\n   */\n  abstract destroy(): void;\n\n  /**\n   * @deprecated Use `destroyed` instead\n   */\n  get disposed(): boolean { throw unimplemented(); }\n  get destroyed(): boolean { throw unimplemented(); }\n}\n\nfunction _callAndReportToExceptionHandler(\n    exceptionHandler: ExceptionHandler, callback: () => any): any {\n  try {\n    const result = callback();\n    if (isPromise(result)) {\n      return result.catch((e: any) => {\n        exceptionHandler.call(e);\n        // rethrow as the exception handler might not do it\n        throw e;\n      });\n    } else {\n      return result;\n    }\n  } catch (e) {\n    exceptionHandler.call(e);\n    // rethrow as the exception handler might not do it\n    throw e;\n  }\n}\nexport class PlatformRef_ extends PlatformRef {\n  private _modules: NgModuleRef<any>[] = [];\n  private _destroyListeners: Function[] = [];\n\n  private _destroyed: boolean = false;\n\n  constructor(private _injector: Injector) { super(); }\n\n  /**\n   * @deprecated\n   */\n  registerDisposeListener(dispose: () => void): void { this.onDestroy(dispose); }\n\n  onDestroy(callback: () => void): void { this._destroyListeners.push(callback); }\n\n  get injector(): Injector { return this._injector; }\n\n  /**\n   * @deprecated\n   */\n  get disposed() { return this.destroyed; }\n  get destroyed() { return this._destroyed; }\n\n  destroy() {\n    if (this._destroyed) {\n      throw new BaseException('The platform has already been destroyed!');\n    }\n    ListWrapper.clone(this._modules).forEach((app) => app.destroy());\n    this._destroyListeners.forEach((dispose) => dispose());\n    this._destroyed = true;\n  }\n\n  /**\n   * @deprecated\n   */\n  dispose(): void { this.destroy(); }\n\n  bootstrapModuleFactory<M>(moduleFactory: NgModuleFactory<M>): Promise<NgModuleRef<M>> {\n    return this._bootstrapModuleFactoryWithZone(moduleFactory, null);\n  }\n\n  private _bootstrapModuleFactoryWithZone<M>(moduleFactory: NgModuleFactory<M>, ngZone: NgZone):\n      Promise<NgModuleRef<M>> {\n    // Note: We need to create the NgZone _before_ we instantiate the module,\n    // as instantiating the module creates some providers eagerly.\n    // So we create a mini parent injector that just contains the new NgZone and\n    // pass that as parent to the NgModuleFactory.\n    if (!ngZone) ngZone = new NgZone({enableLongStackTrace: isDevMode()});\n    // Attention: Don't use ApplicationRef.run here,\n    // as we want to be sure that all possible constructor calls are inside `ngZone.run`!\n    return ngZone.run(() => {\n      const ngZoneInjector =\n          ReflectiveInjector.resolveAndCreate([{provide: NgZone, useValue: ngZone}], this.injector);\n      const moduleRef = <NgModuleInjector<M>>moduleFactory.create(ngZoneInjector);\n      const exceptionHandler: ExceptionHandler = moduleRef.injector.get(ExceptionHandler, null);\n      if (!exceptionHandler) {\n        throw new Error('No ExceptionHandler. Is platform module (BrowserModule) included?');\n      }\n      moduleRef.onDestroy(() => ListWrapper.remove(this._modules, moduleRef));\n      ngZone.onError.subscribe({\n        next: (error: NgZoneError) => { exceptionHandler.call(error.error, error.stackTrace); }\n      });\n      return _callAndReportToExceptionHandler(exceptionHandler, () => {\n        const initStatus: ApplicationInitStatus = moduleRef.injector.get(ApplicationInitStatus);\n        return initStatus.donePromise.then(() => {\n          this._moduleDoBootstrap(moduleRef);\n          return moduleRef;\n        });\n      });\n    });\n  }\n\n  bootstrapModule<M>(\n      moduleType: ConcreteType<M>,\n      compilerOptions: CompilerOptions|CompilerOptions[] = []): Promise<NgModuleRef<M>> {\n    return this._bootstrapModuleWithZone(moduleType, compilerOptions, null);\n  }\n\n  private _bootstrapModuleWithZone<M>(\n      moduleType: ConcreteType<M>, compilerOptions: CompilerOptions|CompilerOptions[] = [],\n      ngZone: NgZone): Promise<NgModuleRef<M>> {\n    const compilerFactory: CompilerFactory = this.injector.get(CompilerFactory);\n    const compiler = compilerFactory.createCompiler(\n        compilerOptions instanceof Array ? compilerOptions : [compilerOptions]);\n    return compiler.compileModuleAsync(moduleType)\n        .then((moduleFactory) => this._bootstrapModuleFactoryWithZone(moduleFactory, ngZone));\n  }\n\n  private _moduleDoBootstrap(moduleRef: NgModuleInjector<any>) {\n    const appRef = moduleRef.injector.get(ApplicationRef);\n    if (moduleRef.bootstrapFactories.length > 0) {\n      moduleRef.bootstrapFactories.forEach((compFactory) => appRef.bootstrap(compFactory));\n    } else if (moduleRef.instance.ngDoBootstrap) {\n      moduleRef.instance.ngDoBootstrap(appRef);\n    } else {\n      throw new BaseException(\n          `The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. ` +\n          `Please define one of these.`);\n    }\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: Injector, },\n];\n}\n\n/**\n * A reference to an Angular application running on a page.\n *\n * For more about Angular applications, see the documentation for {@link bootstrap}.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nexport abstract class ApplicationRef {\n  /**\n   * Register a listener to be called each time `bootstrap()` is called to bootstrap\n   * a new root component.\n   *\n   * @deprecated Provide a callback via a multi provider for {@link APP_BOOTSTRAP_LISTENER}\n   * instead.\n   */\n  abstract registerBootstrapListener(listener: (ref: ComponentRef<any>) => void): void;\n\n  /**\n   * Register a listener to be called when the application is disposed.\n   *\n   * @deprecated Use `ngOnDestroy` lifecycle hook or {@link NgModuleRef}.onDestroy.\n   */\n  abstract registerDisposeListener(dispose: () => void): void;\n\n  /**\n   * Returns a promise that resolves when all asynchronous application initializers\n   * are done.\n   *\n   * @deprecated Use the {@link ApplicationInitStatus} class instead.\n   */\n  abstract waitForAsyncInitializers(): Promise<any>;\n\n  /**\n   * Runs the given callback in the zone and returns the result of the callback.\n   * Exceptions will be forwarded to the ExceptionHandler and rethrown.\n   *\n   * @deprecated Use {@link NgZone}.run instead.\n   */\n  abstract run(callback: Function): any;\n\n  /**\n   * Bootstrap a new component at the root level of the application.\n   *\n   * ### Bootstrap process\n   *\n   * When bootstrapping a new root component into an application, Angular mounts the\n   * specified application component onto DOM elements identified by the [componentType]'s\n   * selector and kicks off automatic change detection to finish initializing the component.\n   *\n   * ### Example\n   * {@example core/ts/platform/platform.ts region='longform'}\n   */\n  abstract bootstrap<C>(componentFactory: ComponentFactory<C>|ConcreteType<C>): ComponentRef<C>;\n\n  /**\n   * Retrieve the application {@link Injector}.\n   *\n   * @deprecated inject an {@link Injector} directly where needed or use {@link\n   * NgModuleRef}.injector.\n   */\n  get injector(): Injector { return <Injector>unimplemented(); };\n\n  /**\n   * Retrieve the application {@link NgZone}.\n   *\n   * @deprecated inject {@link NgZone} instead of calling this getter.\n   */\n  get zone(): NgZone { return <NgZone>unimplemented(); };\n\n  /**\n   * Dispose of this application and all of its components.\n   *\n   * @deprecated Destroy the module that was created during bootstrap instead by calling\n   * {@link NgModuleRef}.destroy.\n   */\n  abstract dispose(): void;\n\n  /**\n   * Invoke this method to explicitly process change detection and its side-effects.\n   *\n   * In development mode, `tick()` also performs a second change detection cycle to ensure that no\n   * further changes are detected. If additional changes are picked up during this second cycle,\n   * bindings in the app have side-effects that cannot be resolved in a single change detection\n   * pass.\n   * In this case, Angular throws an error, since an Angular application can only have one change\n   * detection pass during which all change detection must complete.\n   */\n  abstract tick(): void;\n\n  /**\n   * Get a list of component types registered to this application.\n   * This list is populated even before the component is created.\n   */\n  get componentTypes(): Type[] { return <Type[]>unimplemented(); };\n\n  /**\n   * Get a list of components registered to this application.\n   */\n  get components(): ComponentRef<any>[] { return <ComponentRef<any>[]>unimplemented(); };\n}\nexport class ApplicationRef_ extends ApplicationRef {\n  /** @internal */\n  static _tickScope: WtfScopeFn = wtfCreateScope('ApplicationRef#tick()');\n\n  private _bootstrapListeners: Function[] = [];\n  /**\n   * @deprecated\n   */\n  private _disposeListeners: Function[] = [];\n  private _rootComponents: ComponentRef<any>[] = [];\n  private _rootComponentTypes: Type[] = [];\n  private _changeDetectorRefs: ChangeDetectorRef[] = [];\n  private _runningTick: boolean = false;\n  private _enforceNoNewChanges: boolean = false;\n\n  constructor(\n      private _zone: NgZone, private _console: Console, private _injector: Injector,\n      private _exceptionHandler: ExceptionHandler,\n      private _componentFactoryResolver: ComponentFactoryResolver,\n      private _initStatus: ApplicationInitStatus, private _testabilityRegistry: TestabilityRegistry, private _testability: Testability) {\n    super();\n    this._enforceNoNewChanges = isDevMode();\n\n    this._zone.onMicrotaskEmpty.subscribe(\n        {next: () => { this._zone.run(() => { this.tick(); }); }});\n  }\n\n  /**\n   * @deprecated\n   */\n  registerBootstrapListener(listener: (ref: ComponentRef<any>) => void): void {\n    this._bootstrapListeners.push(listener);\n  }\n\n  /**\n   * @deprecated\n   */\n  registerDisposeListener(dispose: () => void): void { this._disposeListeners.push(dispose); }\n\n  registerChangeDetector(changeDetector: ChangeDetectorRef): void {\n    this._changeDetectorRefs.push(changeDetector);\n  }\n\n  unregisterChangeDetector(changeDetector: ChangeDetectorRef): void {\n    ListWrapper.remove(this._changeDetectorRefs, changeDetector);\n  }\n\n  /**\n   * @deprecated\n   */\n  waitForAsyncInitializers(): Promise<any> { return this._initStatus.donePromise; }\n\n  /**\n   * @deprecated\n   */\n  run(callback: Function): any {\n    return this._zone.run(\n        () => _callAndReportToExceptionHandler(this._exceptionHandler, <any>callback));\n  }\n\n  bootstrap<C>(componentOrFactory: ComponentFactory<C>|ConcreteType<C>): ComponentRef<C> {\n    if (!this._initStatus.done) {\n      throw new BaseException(\n          'Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.');\n    }\n    let componentFactory: ComponentFactory<C>;\n    if (componentOrFactory instanceof ComponentFactory) {\n      componentFactory = componentOrFactory;\n    } else {\n      componentFactory = this._componentFactoryResolver.resolveComponentFactory(componentOrFactory);\n    }\n    this._rootComponentTypes.push(componentFactory.componentType);\n    var compRef = componentFactory.create(this._injector, [], componentFactory.selector);\n    compRef.onDestroy(() => { this._unloadComponent(compRef); });\n    var testability = compRef.injector.get(Testability, null);\n    if (isPresent(testability)) {\n      compRef.injector.get(TestabilityRegistry)\n          .registerApplication(compRef.location.nativeElement, testability);\n    }\n\n    this._loadComponent(compRef);\n    if (isDevMode()) {\n      this._console.log(\n          `Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode.`);\n    }\n    return compRef;\n  }\n\n  /** @internal */\n  _loadComponent(componentRef: ComponentRef<any>): void {\n    this._changeDetectorRefs.push(componentRef.changeDetectorRef);\n    this.tick();\n    this._rootComponents.push(componentRef);\n    // Get the listeners lazily to prevent DI cycles.\n    const listeners =\n        <((compRef: ComponentRef<any>) => void)[]>this._injector.get(APP_BOOTSTRAP_LISTENER, [])\n            .concat(this._bootstrapListeners);\n    listeners.forEach((listener) => listener(componentRef));\n  }\n\n  /** @internal */\n  _unloadComponent(componentRef: ComponentRef<any>): void {\n    if (!ListWrapper.contains(this._rootComponents, componentRef)) {\n      return;\n    }\n    this.unregisterChangeDetector(componentRef.changeDetectorRef);\n    ListWrapper.remove(this._rootComponents, componentRef);\n  }\n\n  /**\n   * @deprecated\n   */\n  get injector(): Injector { return this._injector; }\n\n  /**\n   * @deprecated\n   */\n  get zone(): NgZone { return this._zone; }\n\n  tick(): void {\n    if (this._runningTick) {\n      throw new BaseException('ApplicationRef.tick is called recursively');\n    }\n\n    var s = ApplicationRef_._tickScope();\n    try {\n      this._runningTick = true;\n      this._changeDetectorRefs.forEach((detector) => detector.detectChanges());\n      if (this._enforceNoNewChanges) {\n        this._changeDetectorRefs.forEach((detector) => detector.checkNoChanges());\n      }\n    } finally {\n      this._runningTick = false;\n      wtfLeave(s);\n    }\n  }\n\n  ngOnDestroy() {\n    // TODO(alxhub): Dispose of the NgZone.\n    ListWrapper.clone(this._rootComponents).forEach((ref) => ref.destroy());\n    this._disposeListeners.forEach((dispose) => dispose());\n  }\n\n  /**\n   * @deprecated\n   */\n  dispose(): void { this.ngOnDestroy(); }\n\n  get componentTypes(): Type[] { return this._rootComponentTypes; }\n\n  get components(): ComponentRef<any>[] { return this._rootComponents; }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: NgZone, },\n{type: Console, },\n{type: Injector, },\n{type: ExceptionHandler, },\n{type: ComponentFactoryResolver, },\n{type: ApplicationInitStatus, },\n{type: TestabilityRegistry, decorators: [{ type: Optional }, ]},\n{type: Testability, decorators: [{ type: Optional }, ]},\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}